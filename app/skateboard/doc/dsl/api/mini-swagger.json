{
  "swagger": "2.0",
  "info": {
    "title": "约板小程序",
    "description": "微信相关交互",
    "version": "v1.0.0"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "skateboard/mini/coach-list": {
      "post": {
        "summary": "门店教练列表",
        "operationId": "miniShopCoachList",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/CoachListResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CoachListRequest"
            }
          }
        ],
        "requestBody": {},
        "tags": [
          "skateboard"
        ]
      }
    },
    "skateboard/mini/coach-reserve": {
      "post": {
        "summary": "门店教练预约",
        "operationId": "miniCoachReserve",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/CoachReserveResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CoachReserveRequest"
            }
          }
        ],
        "requestBody": {},
        "tags": [
          "skateboard"
        ]
      }
    },
    "skateboard/mini/login": {
      "post": {
        "summary": "微信登录",
        "operationId": "miniLogin",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/LoginResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoginRequest"
            }
          }
        ],
        "requestBody": {},
        "tags": [
          "skateboard"
        ]
      }
    },
    "skateboard/mini/shop-list": {
      "post": {
        "summary": "门店列表",
        "operationId": "miniShopList",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/ShopListResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ShopListRequest"
            }
          }
        ],
        "requestBody": {},
        "tags": [
          "skateboard"
        ]
      }
    },
    "skateboard/mini/user-info": {
      "post": {
        "summary": "用户信息",
        "operationId": "miniUserInfo",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/UserInfoResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/UserInfoRequest"
            }
          }
        ],
        "requestBody": {},
        "tags": [
          "skateboard"
        ]
      }
    },
    "skateboard/system/coach": {
      "post": {
        "summary": "门店教练创建",
        "operationId": "systemCoachCreate",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/CoachCreateResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/CoachCreateRequest"
            }
          }
        ],
        "requestBody": {},
        "tags": [
          "skateboard"
        ]
      }
    },
    "skateboard/system/shop": {
      "post": {
        "summary": "门店保持",
        "operationId": "systemShopSave",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/ShopSaveResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ShopSaveRequest"
            }
          }
        ],
        "requestBody": {},
        "tags": [
          "skateboard"
        ]
      }
    },
    "skateboard/system/shop/search": {
      "post": {
        "summary": "门店搜索",
        "operationId": "systemShopSearch",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/ShopSearchResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ShopSearchRequest"
            }
          }
        ],
        "requestBody": {},
        "tags": [
          "skateboard"
        ]
      }
    },
    "skateboard/system/shop/{id}": {
      "delete": {
        "summary": "门店删除",
        "operationId": "systemShopDelete",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/ShopDeleteResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ShopDeleteRequest"
            }
          }
        ],
        "requestBody": {},
        "tags": [
          "skateboard"
        ]
      },
      "post": {
        "summary": "门店详情",
        "operationId": "systemShopGet",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/ShopGetResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ShopGetRequest"
            }
          }
        ],
        "requestBody": {},
        "tags": [
          "skateboard"
        ]
      },
      "put": {
        "summary": "门店更新",
        "operationId": "systemShopUpdate",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/ShopUpdateResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ShopUpdateRequest"
            }
          }
        ],
        "requestBody": {},
        "tags": [
          "skateboard"
        ]
      }
    }
  },
  "definitions": {
    "Activity": {
      "type": "object",
      "properties": {
        "activityId": {
          "type": "integer",
          "format": "int32"
        },
        "cover": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "time": {
          "type": "string"
        },
        "timeUnix": {
          "type": "integer",
          "format": "int32"
        },
        "introduction": {
          "type": "string"
        },
        "address": {
          "$ref": "#/definitions/Address"
        },
        "link": {
          "type": "string"
        },
        "context": {
          "$ref": "#/definitions/Context"
        }
      },
      "title": "Activity",
      "required": [
        "activityId",
        "cover",
        "title",
        "time",
        "timeUnix",
        "introduction",
        "address",
        "link",
        "context"
      ]
    },
    "Address": {
      "type": "object",
      "properties": {
        "address": {
          "type": "string"
        },
        "lon": {
          "type": "number",
          "format": "double"
        },
        "lat": {
          "type": "number",
          "format": "double"
        }
      },
      "title": "Address",
      "required": [
        "address",
        "lon",
        "lat"
      ]
    },
    "Coach": {
      "type": "object",
      "properties": {
        "coachId": {
          "type": "integer",
          "format": "int32"
        },
        "userId": {
          "type": "integer",
          "format": "int32"
        },
        "shopId": {
          "type": "integer",
          "format": "int32"
        },
        "name": {
          "type": "string"
        },
        "jobTitle": {
          "type": "string"
        },
        "labels": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "totalLessonTime": {
          "type": "integer",
          "format": "int32"
        },
        "rank": {
          "type": "integer",
          "format": "int32"
        },
        "context": {
          "$ref": "#/definitions/Context"
        },
        "shop": {
          "$ref": "#/definitions/Shop"
        },
        "user": {
          "$ref": "#/definitions/User"
        }
      },
      "title": "Coach",
      "required": [
        "coachId",
        "userId",
        "shopId",
        "name",
        "jobTitle",
        "labels",
        "totalLessonTime",
        "rank",
        "context",
        "shop",
        "user"
      ]
    },
    "CoachCreateRequest": {
      "type": "object",
      "title": "CoachCreateRequest"
    },
    "CoachCreateResponse": {
      "type": "object",
      "title": "CoachCreateResponse"
    },
    "CoachListRequest": {
      "type": "object",
      "properties": {
        "shopId": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "CoachListRequest",
      "required": [
        "shopId"
      ]
    },
    "CoachListResponse": {
      "type": "object",
      "properties": {
        "coach": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Coach"
          }
        },
        "total": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "CoachListResponse",
      "required": [
        "coach",
        "total"
      ]
    },
    "CoachReserveRequest": {
      "type": "object",
      "properties": {
        "coachId": {
          "type": "integer",
          "format": "int32"
        },
        "timeSpanBegin": {
          "type": "string"
        },
        "timeSpanEnd": {
          "type": "string"
        }
      },
      "title": "CoachReserveRequest",
      "required": [
        "coachId",
        "timeSpanBegin",
        "timeSpanEnd"
      ]
    },
    "CoachReserveResponse": {
      "type": "object",
      "title": "CoachReserveResponse"
    },
    "Context": {
      "type": "object",
      "properties": {
        "creatorUserId": {
          "type": "integer",
          "format": "int32"
        },
        "editorUserId": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "Context",
      "required": [
        "creatorUserId",
        "editorUserId"
      ]
    },
    "LoginRequest": {
      "type": "object",
      "properties": {
        "clientType": {
          "type": "string"
        },
        "loginType": {
          "type": "string",
          "description": " wx-login phone-password-login phone-smscode-login"
        },
        "WechatAuthcode": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "password": {
          "type": "string"
        },
        "smsCode": {
          "type": "string"
        }
      },
      "title": "LoginRequest",
      "required": [
        "clientType",
        "loginType",
        "smsCode"
      ]
    },
    "LoginResponse": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string"
        }
      },
      "title": "LoginResponse",
      "required": [
        "token"
      ]
    },
    "Shop": {
      "type": "object",
      "properties": {
        "shopId": {
          "type": "integer",
          "format": "int32"
        },
        "name": {
          "type": "string"
        },
        "introduction": {
          "type": "string"
        },
        "address": {
          "$ref": "#/definitions/Address"
        },
        "rank": {
          "type": "integer",
          "format": "int32"
        },
        "context": {
          "$ref": "#/definitions/Context"
        }
      },
      "title": "Shop",
      "required": [
        "shopId",
        "name",
        "introduction",
        "address",
        "rank",
        "context"
      ]
    },
    "ShopDeleteRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "ShopDeleteRequest",
      "required": [
        "id"
      ]
    },
    "ShopDeleteResponse": {
      "type": "object",
      "title": "ShopDeleteResponse"
    },
    "ShopGetRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "ShopGetRequest",
      "required": [
        "id"
      ]
    },
    "ShopGetResponse": {
      "type": "object",
      "title": "ShopGetResponse"
    },
    "ShopItem": {
      "type": "object",
      "properties": {
        "shopId": {
          "type": "integer",
          "format": "int32"
        },
        "name": {
          "type": "string"
        },
        "introduction": {
          "type": "string"
        },
        "rank": {
          "type": "integer",
          "format": "int32"
        },
        "address": {
          "$ref": "#/definitions/Address"
        }
      },
      "title": "ShopItem",
      "required": [
        "shopId",
        "name",
        "introduction",
        "rank",
        "address"
      ]
    },
    "ShopListRequest": {
      "type": "object",
      "properties": {
        "page": {
          "type": "integer",
          "format": "int32"
        },
        "size": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "ShopListRequest",
      "required": [
        "page",
        "size"
      ]
    },
    "ShopListResponse": {
      "type": "object",
      "properties": {
        "shops": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Shop"
          }
        },
        "total": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "ShopListResponse",
      "required": [
        "shops",
        "total"
      ]
    },
    "ShopSaveRequest": {
      "type": "object",
      "properties": {
        "shop": {
          "$ref": "#/definitions/ShopItem"
        }
      },
      "title": "ShopSaveRequest",
      "required": [
        "shop"
      ]
    },
    "ShopSaveResponse": {
      "type": "object",
      "title": "ShopSaveResponse"
    },
    "ShopSearchRequest": {
      "type": "object",
      "properties": {
        "page": {
          "type": "integer",
          "format": "int32"
        },
        "size": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "ShopSearchRequest",
      "required": [
        "page",
        "size"
      ]
    },
    "ShopSearchResponse": {
      "type": "object",
      "properties": {
        "list": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ShopItem"
          }
        },
        "total": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "ShopSearchResponse",
      "required": [
        "list",
        "total"
      ]
    },
    "ShopUpdateRequest": {
      "type": "object",
      "properties": {
        "shop": {
          "$ref": "#/definitions/ShopItem"
        }
      },
      "title": "ShopUpdateRequest",
      "required": [
        "shop"
      ]
    },
    "ShopUpdateResponse": {
      "type": "object",
      "title": "ShopUpdateResponse"
    },
    "User": {
      "type": "object",
      "properties": {
        "userId": {
          "type": "integer",
          "format": "int32",
          "description": " 用户ID"
        },
        "clientType": {
          "type": "string",
          "description": " 客户端类型 1:wx-stu 2:wx-coach"
        },
        "name": {
          "type": "string",
          "description": " 名称"
        },
        "avator": {
          "type": "string",
          "description": " 头像"
        },
        "phone": {
          "type": "string",
          "description": " 手机号"
        },
        "wxNumber": {
          "type": "string",
          "description": " 微信编号"
        },
        "password": {
          "type": "string",
          "description": " 密码 MD5()"
        },
        "wxOpenId": {
          "type": "string",
          "description": "微信认证 OpenID"
        },
        "userCourseInfo": {
          "$ref": "#/definitions/UserCourseInfo"
        }
      },
      "title": "User",
      "required": [
        "userId",
        "clientType",
        "name",
        "avator",
        "phone",
        "wxNumber",
        "password",
        "wxOpenId",
        "userCourseInfo"
      ]
    },
    "UserCourseInfo": {
      "type": "object",
      "title": "UserCourseInfo"
    },
    "UserInfoRequest": {
      "type": "object",
      "title": "UserInfoRequest"
    },
    "UserInfoResponse": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/User"
        }
      },
      "title": "UserInfoResponse",
      "required": [
        "user"
      ]
    }
  },
  "securityDefinitions": {
    "apiKey": {
      "type": "apiKey",
      "description": "Enter JWT Bearer token **_only_**",
      "name": "Authorization",
      "in": "header"
    }
  },
  "security": [
    {
      "apiKey": []
    }
  ]
}
